{"ast":null,"code":"import _classCallCheck from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/tallrye/React/swe573/wlearn-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/tallrye/React/swe573/wlearn-react/src/user/Login.js\";\nimport React, { Component } from 'react';\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport { login } from '../util/APIUtils';\nimport { Link } from 'react-router-dom';\nimport { ACCESS_TOKEN } from '../constants';\nimport toast from \"toasted-notes\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.form = React.createRef();\n    _this.state = {\n      usernameOrEmail: '',\n      password: ''\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUsernameOrEmailChange = _this.handleUsernameOrEmailChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validate = _this.validate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleUsernameOrEmailChange\",\n    value: function handleUsernameOrEmailChange(event) {\n      this.setState({\n        usernameOrEmail: event.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(event) {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      return this.form.current.reportValidity();\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var err = !this.validate();\n\n      if (!err) {\n        var loginRequest = this.state;\n        login(loginRequest).then(function (response) {\n          localStorage.setItem(ACCESS_TOKEN, response.accessToken);\n\n          _this2.props.onLogin();\n        }).catch(function (error) {\n          if (error.status === 401) {\n            toast.notify('Your Username or Password is incorrect. Please try again!', {\n              position: \"bottom-right\"\n            });\n          } else {\n            toast.notify('Sorry! Something went wrong. Please try again!', {\n              position: \"bottom-right\"\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"sectionPadding bg-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container w-25 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"mt-5 mb-5 text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Login to your account\"), React.createElement(Form, {\n        ref: this.form,\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        className: \"row\",\n        controlId: \"formPlaintextUsernameOrEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Username or e-mail\",\n        required: true,\n        onChange: this.handleUsernameOrEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }))), React.createElement(Form.Group, {\n        className: \"row\",\n        controlId: \"formPlaintextPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        onChange: this.handlePasswordChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        className: \"mt-4\",\n        variant: \"primary\",\n        type: \"submit\",\n        block: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), \"Don't have an account? \", React.createElement(Link, {\n        to: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Signup now!\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/tallrye/React/swe573/wlearn-react/src/user/Login.js"],"names":["React","Component","Form","Col","Button","login","Link","ACCESS_TOKEN","toast","Login","props","form","createRef","state","usernameOrEmail","password","handleSubmit","bind","handleUsernameOrEmailChange","handlePasswordChange","validate","event","setState","target","value","current","reportValidity","preventDefault","err","loginRequest","then","response","localStorage","setItem","accessToken","onLogin","catch","error","status","notify","position"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport { login } from '../util/APIUtils';\nimport { Link } from 'react-router-dom';\nimport { ACCESS_TOKEN } from '../constants';\nimport toast from \"toasted-notes\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.form = React.createRef();\n        this.state = {\n            usernameOrEmail: '',\n            password: ''\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleUsernameOrEmailChange = this.handleUsernameOrEmailChange.bind(this);\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n        this.validate = this.validate.bind(this);\n    }\n\n    handleUsernameOrEmailChange(event) {\n        this.setState({ usernameOrEmail: event.target.value })\n    }\n\n    handlePasswordChange(event) {\n        this.setState({ password: event.target.value })\n    }\n\n    validate() {\n        return this.form.current.reportValidity();\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const err = !this.validate();\n\n        if (!err) {\n            const loginRequest = this.state;\n            login(loginRequest)\n                .then(response => {\n                    localStorage.setItem(ACCESS_TOKEN, response.accessToken);\n                    this.props.onLogin();\n                }).catch(error => {\n                    if (error.status === 401) {\n                        toast.notify('Your Username or Password is incorrect. Please try again!', { position: \"bottom-right\" });\n                    } else {\n                        toast.notify('Sorry! Something went wrong. Please try again!', { position: \"bottom-right\" });\n                    }\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"sectionPadding bg-alt\">\n                <div className=\"container w-25 mt-5\">\n                    <h4 className=\"mt-5 mb-5 text-left\">Login to your account</h4>\n                    <Form ref={this.form} onSubmit={this.handleSubmit}>\n                        <Form.Group className=\"row\" controlId=\"formPlaintextUsernameOrEmail\">\n                            <Col sm=\"12\">\n                                <Form.Control type=\"text\" placeholder=\"Username or e-mail\" required onChange={this.handleUsernameOrEmailChange} />\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group className=\"row\" controlId=\"formPlaintextPassword\" >\n                            <Col sm=\"12\">\n                                <Form.Control type=\"password\" placeholder=\"Password\" required onChange={this.handlePasswordChange} />\n                            </Col>\n                        </Form.Group>\n\n                        <Button className=\"mt-4\" variant=\"primary\" type=\"submit\" block>\n                            Login\n                </Button>\n                        <br />\n\n                        Don't have an account? <Link to=\"/signup\">Signup now!</Link>\n                    </Form>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}