{"ast":null,"code":"var _require = require('./simplify_claims'),\n    simplifyClaims = _require.simplifyClaims;\n\nvar simplify = require('./simplify_text_attributes');\n\nvar simplifySitelinks = require('./simplify_sitelinks');\n\nvar simplifyEntity = function simplifyEntity(entity, options) {\n  var simplified = {\n    id: entity.id,\n    type: entity.type,\n    modified: entity.modified\n  };\n  simplifyIfDefined(entity, simplified, 'labels');\n  simplifyIfDefined(entity, simplified, 'descriptions');\n  simplifyIfDefined(entity, simplified, 'aliases');\n\n  if (entity.claims != null) {\n    simplified.claims = simplifyClaims(entity.claims, options);\n  }\n\n  if (entity.sitelinks != null) {\n    simplified.sitelinks = simplifySitelinks(entity.sitelinks, options);\n  }\n\n  return simplified;\n};\n\nvar simplifyIfDefined = function simplifyIfDefined(entity, simplified, attribute) {\n  if (entity[attribute] != null) {\n    simplified[attribute] = simplify[attribute](entity[attribute]);\n  }\n};\n\nvar simplifyEntities = function simplifyEntities(entities) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var entityPrefix = options.entityPrefix;\n  return Object.keys(entities).reduce(function (obj, key) {\n    var entity = entities[key];\n    if (entityPrefix) key = \"\".concat(entityPrefix, \":\").concat(key);\n    obj[key] = simplifyEntity(entity, options);\n    return obj;\n  }, {});\n};\n\nmodule.exports = {\n  simplifyEntity: simplifyEntity,\n  simplifyEntities: simplifyEntities\n};","map":null,"metadata":{},"sourceType":"script"}